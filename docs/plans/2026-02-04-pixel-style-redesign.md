# Pixel Arena 像素风格重设计方案

**日期：** 2026-02-04
**状态：** 已确认，待实施

---

## 概述

本文档描述 Pixel Arena 游戏的完整像素风格重构方案，包括拾取系统修复、角色道具重设计、UI 界面优化、地图环境改进以及整体风格统一。

---

## 第一部分：拾取系统修复

### 1.1 拾取半径修复

| 项目 | 当前值 | 修改后 |
|------|--------|--------|
| pickupRadius | 30px | **50px** |

**代码改动位置：**
- `server/src/rooms/GameRoom.ts` - 修改 `pickupRadius = 50`

### 1.2 拾取反馈增强

| 元素 | 当前 | 改进后 |
|------|------|--------|
| 视觉提示 | 无 | 靠近时道具发光浮动 |
| 拾取动画 | 无 | 道具飞向玩家消失 |
| 音效 | 无 | 清脆的拾取音 |
| 文字反馈 | 无 | 屏幕上方显示 "+武器名" |

**代码改动位置：**
- `client/src/entities/Item.ts` - 添加悬浮动画和发光效果
- `client/src/scenes/GameScene.ts` - 添加拾取文字提示

---

## 第二部分：角色与道具像素化

### 2.1 玩家角色重设计

**规格：** 32x32 像素精灵

| 角色类型 | 外观特征 | 配色 |
|----------|----------|------|
| 突击兵 (Assault) | 头盔 + 步枪姿态 | 绿色/卡其色 |
| 狙击手 (Sniper) | 披风 + 瞄准姿态 | 深蓝/黑色 |
| 坦克 (Tank) | 重甲 + 盾牌 | 银色/红色 |
| 医疗兵 (Medic) | 十字标记 + 背包 | 白色/绿色 |

**动画帧：**
- 待机：2帧循环
- 移动：4帧（上下左右各一组，共16帧）
- 射击：2帧
- 受伤：1帧闪红
- 死亡：3帧倒地

### 2.2 武器道具重设计

**规格：** 16x16 像素图标

| 道具类型 | 图标设计 | 底色光晕 |
|----------|----------|----------|
| 手枪 | 小型手枪轮廓 | 灰色 |
| 冲锋枪 | SMG 轮廓 | 蓝色 |
| 步枪 | 长枪管轮廓 | 橙色 |
| 霰弹枪 | 双管轮廓 | 红色 |
| 技能道具 | 闪电/盾牌/心形图标 | 紫色 |

### 2.3 素材来源

- **itch.io** 免费像素素材库
  - 角色：Top-Down Pixel Art Character Pack 系列
  - 武器：Pixel Guns & Weapons 系列
  - 地图瓦片：RPG/Shooter Tileset 系列

---

## 第三部分：UI 界面像素化

### 3.1 血条 (HP Bar)

```
┌─────────────────────────┐
│ ❤️ ████████████░░░░ 79  │
└─────────────────────────┘
```
- 像素心形图标
- 像素风格进度条（红色填充，深红背景）
- 2像素黑色描边边框
- 血量变化时闪烁动画

### 3.2 弹药框 (Ammo Box)

```
┌──────────────┐
│  🔫 冲锋枪   │
│  ● 30 / 30  │
│  ▓▓▓▓▓▓▓▓▓▓ │
└──────────────┘
```
- 像素武器小图标
- 像素字体显示武器名
- 子弹图标 + 弹药数
- 弹匣进度条

### 3.3 小地图 (Minimap)

```
┌────────────────┐
│ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │
│ ▓  ●    ○   ▓ │  ● 自己(绿)
│ ▓    ◎      ▓ │  ○ 敌人(红)
│ ▓      ○    ▓ │  ◎ 安全圈
│ ▓▓▓▓▓▓▓▓▓▓▓▓▓▓ │
└────────────────┘
```
- 方形边框（像素风格更统一）
- 2像素金色/深色描边
- 地形用色块简化显示
- 安全圈用像素虚线

### 3.4 技能栏 (Skill Bar)

```
┌──────┐
│  ⚡  │  技能图标
│ [Q]  │  按键提示
│ ████ │  冷却进度
└──────┘
```
- 32x32 技能图标框
- 像素按键标签
- 冷却时灰度遮罩 + 倒计时数字

### 3.5 顶部信息栏

```
┌─────────────────────────────┐
│ 🏆 存活: 12/20  ⏱ 缩圈: 32s │
└─────────────────────────────┘
```
- 居中或右上角统一风格面板
- 像素图标 + 像素字体
- 半透明深色背景

---

## 第四部分：地图与环境像素化

### 4.1 地面瓦片系统

**规格：** 16x16 像素瓦片

| 瓦片类型 | 描述 | 用途 |
|----------|------|------|
| 草地 | 浅绿/深绿随机混合 | 主要地面 |
| 泥土 | 棕色带纹理 | 路径、空地 |
| 石板 | 灰色方砖 | 建筑区域 |
| 水面 | 蓝色 + 2帧波纹动画 | 障碍/装饰 |
| 沙地 | 米黄色颗粒感 | 边缘区域 |

### 4.2 障碍物与建筑

| 障碍类型 | 尺寸 | 特征 |
|----------|------|------|
| 木箱 | 32x32 | 棕色木纹，可破坏 |
| 石墙 | 32x64 | 灰色砖块，不可破坏 |
| 灌木 | 32x32 | 绿色圆形，可穿透子弹 |
| 废弃车辆 | 64x32 | 生锈金属，高掩体 |
| 小屋 | 96x96 | 可进入，有门窗 |

### 4.3 安全圈视觉

- 安全区内：正常显示
- 安全区外：添加红色/紫色像素噪点叠加层（透明度 30%）
- 圈边缘：电流/能量墙效果（2帧动画闪烁）
- 缩圈警告：屏幕边缘红色闪烁 + "危险区域"提示

### 4.4 环境细节

| 装饰元素 | 描述 |
|----------|------|
| 小草 | 随机散布，随风摆动 |
| 碎石 | 地面点缀 |
| 弹坑 | 战斗痕迹 |
| 脚印 | 玩家移动轨迹（短暂显示） |

---

## 第五部分：像素字体与整体风格统一

### 5.1 像素字体

| 用途 | 推荐字体 | 大小 | 来源 |
|------|----------|------|------|
| UI 标题 | Press Start 2P | 16px | Google Fonts |
| 数值显示 | VT323 | 20px | Google Fonts |
| 提示文字 | Silkscreen | 12px | Google Fonts |

### 5.2 统一配色方案

| 元素 | 主色 | 辅色 | 描边 |
|------|------|------|------|
| 血条 | #E53935 红 | #B71C1C 深红 | #000000 |
| 弹药 | #FFC107 金 | #FF8F00 橙 | #000000 |
| 技能 | #7C4DFF 紫 | #4A148C 深紫 | #000000 |
| 小地图边框 | #8D6E63 棕 | #5D4037 深棕 | #000000 |
| 安全圈外 | #9C27B0 紫雾 | 透明度 30% | - |

### 5.3 视觉深度层级

```
深度层级（从后到前）：
─────────────────────────
0    地面瓦片
100  地面装饰（草、石子）
200  道具掉落
300  玩家阴影
400  玩家角色
500  子弹
600  特效（爆炸、技能）
700  伤害数字
900  小地图
1000 UI 面板
1100 击杀信息
2000 结算界面
```

### 5.4 动画规范

| 动画类型 | 帧率 | 帧数 |
|----------|------|------|
| 角色待机 | 4 FPS | 2帧 |
| 角色移动 | 8 FPS | 4帧 |
| 道具浮动 | 2 FPS | 2帧 |
| 水面波纹 | 2 FPS | 2帧 |
| UI 闪烁 | 4 FPS | 2帧 |

---

## 实施优先级

| 优先级 | 任务 | 工作量 |
|--------|------|--------|
| P0 | 拾取半径修复（立即生效） | 小 |
| P1 | UI 界面像素化 | 中 |
| P2 | 角色与道具精灵替换 | 中 |
| P3 | 地图瓦片系统 | 大 |
| P4 | 环境细节与动画 | 中 |

---

## 素材资源

- [itch.io 免费像素素材](https://itch.io/game-assets/free/tag-pixel-art)
- [Google Fonts 像素字体](https://fonts.google.com/?category=Monospace)
- [OpenGameArt](https://opengameart.org/)

---

## 文档版本

| 版本 | 日期 | 描述 |
|------|------|------|
| 1.0 | 2026-02-04 | 初始设计方案 |
